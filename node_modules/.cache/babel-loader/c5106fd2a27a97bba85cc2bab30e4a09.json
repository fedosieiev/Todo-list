{"ast":null,"code":"import _defineProperty from \"D:\\\\Projects\\\\todo\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"D:\\\\Projects\\\\todo\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"D:\\\\Projects\\\\todo\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"D:\\\\Projects\\\\todo\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Projects\\\\todo\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Projects\\\\todo\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Projects\\\\todo\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Projects\\\\todo\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\Projects\\\\todo\\\\src\\\\components\\\\app\\\\app.js\";\nimport React, { Component } from 'react';\nimport AppHeader from '../app-header';\nimport TodoList from '../todo-list';\nimport SearchPanel from '../search-panel';\nimport ItemStatusFilter from '../item-status-filter';\nimport ItemAddForm from '../item-add-form';\nimport './app.css';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.maxId = 100;\n    _this.state = {\n      items: [{\n        id: 1,\n        label: 'Drink Coffee',\n        important: false,\n        done: false\n      }, {\n        id: 2,\n        label: 'Learn React',\n        important: true,\n        done: false\n      }, {\n        id: 3,\n        label: 'Make Awesome App',\n        important: false,\n        done: false\n      }],\n      filter: 'all',\n      search: ''\n    };\n\n    _this.onItemAdded = function (label) {\n      _this.setState(function (state) {\n        var item = _this.createItem(label);\n\n        return {\n          items: [].concat(_toConsumableArray(state.items), [item])\n        };\n      });\n    };\n\n    _this.toggleProperty = function (arr, id, propName) {\n      var idx = arr.findIndex(function (item) {\n        return item.id === id;\n      });\n      var oldItem = arr[idx];\n      var value = !oldItem[propName];\n\n      var item = _objectSpread({}, arr[idx], _defineProperty({}, propName, value));\n\n      return [].concat(_toConsumableArray(arr.slice(0, idx)), [item], _toConsumableArray(arr.slice(idx + 1)));\n    };\n\n    _this.onToggleDone = function (id) {\n      _this.setState(function (state) {\n        var items = _this.toggleProperty(state.items, id, 'done');\n\n        return {\n          items: items\n        };\n      });\n    };\n\n    _this.onToggleImportant = function (id) {\n      _this.setState(function (state) {\n        var items = _this.toggleProperty(state.items, id, 'important');\n\n        return {\n          items: items\n        };\n      });\n    };\n\n    _this.onDelete = function (id) {\n      _this.setState(function (state) {\n        var idx = state.items.findIndex(function (item) {\n          return item.id === id;\n        });\n        var items = [].concat(_toConsumableArray(state.items.slice(0, idx)), _toConsumableArray(state.items.slice(idx + 1)));\n        return {\n          items: items\n        };\n      });\n    };\n\n    _this.onFilterChange = function (filter) {\n      _this.setState({\n        filter: filter\n      });\n    };\n\n    _this.onSearchChange = function (search) {\n      _this.setState({\n        search: search\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"createItem\",\n    value: function createItem(label) {\n      return {\n        id: ++this.maxId,\n        label: label,\n        important: false,\n        done: false\n      };\n    }\n  }, {\n    key: \"filterItems\",\n    value: function filterItems(items, filter) {\n      if (filter === 'all') {\n        return items;\n      } else if (filter === 'active') {\n        return items.filter(function (item) {\n          return !item.done;\n        });\n      } else if (filter === 'done') {\n        return items.filter(function (item) {\n          return item.done;\n        });\n      }\n    }\n  }, {\n    key: \"searchItems\",\n    value: function searchItems(items, search) {\n      if (search.length === 0) {\n        return items;\n      }\n\n      return items.filter(function (item) {\n        return item.label.toLowerCase().indexOf(search.toLowerCase()) > -1;\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          items = _this$state.items,\n          filter = _this$state.filter,\n          search = _this$state.search;\n      var doneCount = items.filter(function (item) {\n        return item.done;\n      }).length;\n      var toDoCount = items.length - doneCount;\n      var visibleItems = this.searchItems(this.filterItems(items, filter), search);\n      return React.createElement(\"div\", {\n        className: \"todo-app\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(AppHeader, {\n        toDo: toDoCount,\n        done: doneCount,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"search-panel d-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(SearchPanel, {\n        onSearchChange: this.onSearchChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), React.createElement(ItemStatusFilter, {\n        filter: filter,\n        onFilterChange: this.onFilterChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      })), React.createElement(TodoList, {\n        items: visibleItems,\n        onToggleImportant: this.onToggleImportant,\n        onToggleDone: this.onToggleDone,\n        onDelete: this.onDelete,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }), React.createElement(ItemAddForm, {\n        onItemAdded: this.onItemAdded,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport { App as default };","map":{"version":3,"sources":["D:\\Projects\\todo\\src\\components\\app\\app.js"],"names":["React","Component","AppHeader","TodoList","SearchPanel","ItemStatusFilter","ItemAddForm","App","maxId","state","items","id","label","important","done","filter","search","onItemAdded","setState","item","createItem","toggleProperty","arr","propName","idx","findIndex","oldItem","value","slice","onToggleDone","onToggleImportant","onDelete","onFilterChange","onSearchChange","length","toLowerCase","indexOf","doneCount","toDoCount","visibleItems","searchItems","filterItems"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport AppHeader from '../app-header';\r\nimport TodoList from '../todo-list';\r\nimport SearchPanel from '../search-panel';\r\nimport ItemStatusFilter from '../item-status-filter';\r\nimport ItemAddForm from '../item-add-form';\r\n\r\nimport './app.css';\r\n\r\n\r\nexport default class App extends Component {\r\n\r\n    maxId = 100;\r\n\r\n    state = {\r\n        items: [\r\n            { id: 1, label: 'Drink Coffee', important: false, done: false },\r\n            { id: 2, label: 'Learn React', important: true, done: false },\r\n            { id: 3, label: 'Make Awesome App', important: false, done: false }\r\n        ],\r\n        filter: 'all',\r\n        search: ''\r\n    };\r\n\r\n    onItemAdded = (label) => {\r\n        this.setState((state) => {\r\n            const item = this.createItem(label);\r\n            return { items: [...state.items, item] };\r\n        })\r\n    };\r\n\r\n    toggleProperty = (arr, id, propName) => {\r\n        const idx = arr.findIndex((item) => item.id === id);\r\n        const oldItem = arr[idx];\r\n        const value = !oldItem[propName];\r\n\r\n        const item = { ...arr[idx], [propName]: value } ;\r\n        return [\r\n            ...arr.slice(0, idx),\r\n            item,\r\n            ...arr.slice(idx + 1)\r\n        ];\r\n    };\r\n\r\n    onToggleDone = (id) => {\r\n        this.setState((state) => {\r\n            const items = this.toggleProperty(state.items, id, 'done');\r\n            return { items };\r\n        });\r\n    };\r\n\r\n    onToggleImportant = (id) => {\r\n        this.setState((state) => {\r\n            const items = this.toggleProperty(state.items, id, 'important');\r\n            return { items };\r\n        });\r\n    };\r\n\r\n    onDelete = (id) => {\r\n        this.setState((state) => {\r\n            const idx = state.items.findIndex((item) => item.id === id);\r\n            const items = [\r\n                ...state.items.slice(0, idx),\r\n                ...state.items.slice(idx + 1)\r\n            ];\r\n            return { items };\r\n        });\r\n    };\r\n\r\n    onFilterChange = (filter) => {\r\n        this.setState({ filter });\r\n    };\r\n\r\n    onSearchChange = (search) => {\r\n        this.setState({ search });\r\n    };\r\n\r\n    createItem(label) {\r\n        return {\r\n            id: ++this.maxId,\r\n            label,\r\n            important: false,\r\n            done: false\r\n        };\r\n    }\r\n\r\n    filterItems(items, filter) {\r\n        if (filter === 'all') {\r\n            return items;\r\n        } else if (filter === 'active') {\r\n            return items.filter((item) => (!item.done));\r\n        } else if (filter === 'done') {\r\n            return items.filter((item) => item.done);\r\n        }\r\n    }\r\n\r\n    searchItems(items, search) {\r\n        if (search.length === 0) {\r\n            return items;\r\n        }\r\n\r\n        return items.filter((item) => {\r\n            return item.label.toLowerCase().indexOf(search.toLowerCase()) > -1;\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { items, filter, search } = this.state;\r\n        const doneCount = items.filter((item) => item.done).length;\r\n        const toDoCount = items.length - doneCount;\r\n        const visibleItems = this.searchItems(this.filterItems(items, filter), search);\r\n\r\n        return (\r\n            <div className=\"todo-app\">\r\n                <AppHeader toDo={toDoCount} done={doneCount}/>\r\n\r\n                <div className=\"search-panel d-flex\">\r\n                    <SearchPanel\r\n                        onSearchChange={this.onSearchChange}/>\r\n\r\n                    <ItemStatusFilter\r\n                        filter={filter}\r\n                        onFilterChange={this.onFilterChange} />\r\n                </div>\r\n\r\n                <TodoList\r\n                    items={ visibleItems }\r\n                    onToggleImportant={this.onToggleImportant}\r\n                    onToggleDone={this.onToggleDone}\r\n                    onDelete={this.onDelete} />\r\n\r\n                <ItemAddForm\r\n                    onItemAdded={this.onItemAdded} />\r\n            </div>\r\n        );\r\n    };\r\n}"]},"metadata":{},"sourceType":"module"}